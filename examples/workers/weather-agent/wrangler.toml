# Weather Agent - Cloudflare Worker Configuration
#
# This is a SPECIALIST agent in the multi-agent system.
# It is NOT publicly accessible - only callable via Service Binding from the orchestrator.
#
# Deploy: wrangler deploy
# Dev:    wrangler dev
# Logs:   wrangler tail

name = "a2a-weather-agent"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# Enable Node.js compatibility for AI SDK dependencies
compatibility_flags = ["nodejs_compat"]

# ⚠️ PRIVATE WORKER - No public routes
# This worker is only accessible via Service Binding from the Travel Planner.
# Comment out or remove if you want public access for testing.
# routes = []  # Uncomment to disable public access entirely

# Environment variables (non-sensitive)
[vars]
AI_PROVIDER = "openai"
AI_MODEL = "gpt-4o-mini"
# Internal flag - this worker expects to be called via Service Binding
INTERNAL_ONLY = "true"

# Secrets are set via CLI:
#   wrangler secret put OPENAI_API_KEY
#
# For local development, create a .dev.vars file:
#   OPENAI_API_KEY=sk-proj-xxxxx

